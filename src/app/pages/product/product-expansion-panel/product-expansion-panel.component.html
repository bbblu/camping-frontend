<mat-accordion>
  <mat-expansion-panel
    *ngFor="let product of products; first as isFirst; index as index"
    [expanded]="isFirst"
    [disabled]="isClickButton"
    (click)="isClickButton = false"
  >
    <mat-expansion-panel-header>
      <mat-panel-title fxLayout="row" fxLayoutAlign="space-between center">
        {{ product.name }} x {{ product.count }}

        <div *ngIf="isEdit" fxLayout="row" fxLayoutGap="10px">
          <button
            mat-flat-button
            type="button"
            color="accent"
            (click)="clickEdit(index, product)"
          >
            編輯
          </button>
          <button
            mat-flat-button
            type="button"
            color="warn"
            (click)="clickDelete(index)"
          >
            刪除
          </button>
        </div>
      </mat-panel-title>
    </mat-expansion-panel-header>

    <div
      class="product-detail"
      fxLayout="row"
      fxLayout.lt-sm="column"
      fxLayoutGap="25px"
    >
      <div fxLayout="column" fxFlex="50" fxFlex.lt-sm="100" fxLayoutGap="10px">
        <span fxLayout="row" fxLayoutAlign="start center">
          <mat-icon svgIcon="tent"></mat-icon>
          外觀狀況： {{ product.appearance }}
        </span>
        <span fxLayout="row" fxLayoutAlign="start center">
          <mat-icon>school</mat-icon>
          使用方法： {{ product.useInformation }}
        </span>
        <span fxLayout="row" fxLayoutAlign="start center">
          <mat-icon>local_offer</mat-icon>
          商品品牌： {{ product.brand }}
        </span>
        <span
          *ngIf="product.relatedLink as link"
          fxLayout="row"
          fxLayoutAlign="start center"
        >
          <mat-icon>link</mat-icon>
          相關連結: <a [href]="link">{{ link }}</a>
        </span>
        <span fxLayout="row" fxLayoutAlign="start center">
          <mat-icon>gavel</mat-icon>
          損壞賠償： {{ product.brokenCompensation }}
        </span>
        <span fxLayout="row" fxLayoutAlign="start center">
          <mat-icon>info</mat-icon>
          其他備註：
        </span>
        <p class="memo">{{ product.memo }}</p>
      </div>

      <div fxFlex="50" fxFlex.lt-sm="100">
        <ng-image-slider
          [images]="imageToSliderObject(product.imageArray)"
          [imageSize]="{ width: '100%' }"
        ></ng-image-slider>
      </div>
    </div>
  </mat-expansion-panel>
</mat-accordion>
